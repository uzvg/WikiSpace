created: 20240711163307550
modified: 20240714153140764
tags: tiddlywiki
title: tiddlywiki renderå‘½ä»¤è§£æ
type: text/vnd.tiddlywiki

!! å‘½ä»¤ä½œç”¨ï¼š
Render individual tiddlers identified by a filter and save the results to the specified files.

Optionally, the title of a template tiddler can be specified. In this case, instead of directly rendering each tiddler, the template tiddler is rendered with the "currentTiddler" variable set to the title of the tiddler that is being rendered.

A name and value for an additional variable may optionally also be specified.

!! å‘½ä»¤æ ¼å¼ï¼š

```
tiddlywiki --render <tiddler-filter> [<filename-filter>] [<render-type>] [<template>] [ [<name>] [<value>] ]*
```

* `tiddler-filter`: A filter identifying the tiddler(s) to be rendered
* `filename-filter`: Optional filter transforming tiddler titles into pathnames. If omitted, defaults to [is[tiddler]addsuffix[.html]], which uses the unchanged tiddler title as the filename
* render-type: Optional render type: `text/html` (the default) returns the full HTML text and `text/plain` just returns the text content (ie it ignores HTML tags and other unprintable material)
* template: Optional template through which each tiddler is renderedï¼ˆç”¨äºç­›é€‰å“ªäº›tiddlerä¼šè¢«æ¸²æŸ“ï¼‰
* name: Name of optional variablesï¼ˆå˜é‡åï¼‰
* value: Value of optional variablesï¼ˆå˜é‡å€¼ï¼‰

By default, the filename is resolved relative to the output subdirectory of the edition directory. The --output command can be used to direct output to a different directory.

!! æ³¨æ„äº‹é¡¹ï¼š

* The output directory is not cleared of any existing filesï¼ˆä¸æ¸…é™¤ä»»ä½•å·²æœ‰æ–‡ä»¶ï¼‰
* Any missing directories in the path to the filename are automatically created.ï¼ˆç¼ºå¤±çš„æ–‡ä»¶è·¯å¾„è‡ªåŠ¨åˆ›å»ºï¼‰
* When referring to a tiddler with spaces in its title, take care to use both the quotes required by your shell and also TiddlyWiki's double square brackets: --render `"[[Motovun Jack.jpg]]"`ï¼ˆæ ‡é¢˜ä¸­æœ‰ç©ºæ ¼ï¼Œè®°å¾—ç”¨åŒå¼•å·ï¼‰
* The filename filter is evaluated with the selected items being set to the title of the tiddler currently being rendered, allowing the title to be used as the basis for computing the filename.ï¼ˆtiddlerçš„æ ‡é¢˜åï¼Œä¼šè¢«å½“åšæœ€ç»ˆäº§ç”Ÿçš„æ–‡ä»¶åçš„è®¡ç®—åŸºç¡€ï¼‰
** For example [encodeuricomponent[]addprefix[static/]] applies URI encoding to each title, and then adds the prefix `static/`
* Multiple name/value pairs can be used to pass more than one variableï¼ˆå¯ä¼ é€’å¤šä¸ªå˜é‡å€¼å¯¹ï¼‰
* The --render command is a more flexible replacement for both the --rendertiddler and --rendertiddlers commands, which are deprecatedï¼ˆå–ä»£äº†ä»¥å‰ä½¿ç”¨çš„`rendertiddler`å’Œ`rendertiddlers`æŒ‡ä»¤ï¼‰

!! ä½¿ç”¨ç¤ºä¾‹ï¼š

```
tiddlywiki --render '[!is[system]]' '[encodeuricomponent[]addprefix[tiddlers/]addsuffix[.html]]'
```

* Renders all non-system tiddlers as files in the subdirectory "tiddlers" with URL-encoded titles and the extension HTMLï¼ˆå°†æ‰€æœ‰çš„éç³»ç»Ÿtiddlerä»¥`html`çš„æ ¼å¼ä¿å­˜åˆ°wikifolderçš„`tiddlers`å­æ–‡ä»¶å¤¹ä¸­ï¼Œæ–‡ä»¶ååœ¨åŸtiddleræ ‡é¢˜çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡uriæ ¼å¼åŒ–ç”Ÿæˆã€‚

---

```
tiddlywiki --render '.' 'tiddlers.json' 'text/plain' '$:/core/templates/exporters/JsonFile' 'exportFilter' '[tag[HelloThere]]'
```

* Render the tiddlers tagged "HelloThere" to a JSON file named "tiddlers.json"

---

```
tiddlywiki --render  '.' 'index.html' 'text/plain' '$:/plugins/tiddlywiki/tiddlyweb/save/offline' 'publishFilter' '-[prefix[$:/plugins]]'
```

* è¯»å–`$:/plugins/tiddlywiki/tiddlyweb/save/offline`æ¨¡æ¿ï¼Œé€šè¿‡å®šä¹‰`publishFilter`å˜é‡çš„å€¼ï¼Œç­›é€‰å‡ºæ‰€æœ‰ä¸ä»¥`$:/prefix`ä¸ºå‰ç¼€çš„tiddlerï¼Œæœ€åç”Ÿæˆindex.htmlæ–‡ä»¶

---

```
tiddlywiki --render,"[tag[external-text]]","[encodeuricomponent[]addprefix[text/]addsuffix[.tid]]","text/plain","$:/core/templates/tid-tiddler"
```

* å°†æ‰€æœ‰æ ‡ç­¾ä¸º`external-text`çš„tiddlerï¼Œå¯¼å‡ºä¸º`text`æ–‡ä»¶å¤¹ä¸‹çš„`.tid`æ–‡ä»¶ã€‚

---

```
--render,"$:/core/save/all","index.html","text/plain"
```

* æŒ‰ç…§æ ‡é¢˜ä¸º`$:/core/save/all`ä¸­çš„ç­›é€‰å™¨ï¼Œç”Ÿæˆçº¯æ–‡æœ¬æ ¼å¼çš„`index.html`æ–‡ä»¶
** æ¥æºï¼šğŸ‘‰[[tw5.comçš„æ„å»ºæ–¹æ¡ˆ|https://github.com/Jermolene/TiddlyWiki5/blob/eeeb9f97a9b517f5ed76267bb50d4d141c72c251/editions/tw5.com/tiddlywiki.info#L35]]

!! åœ¨è¿™ä¹‹åï¼š

å­¦ä¹ å®Œ`render`æŒ‡ä»¤åŠå…¶ä»–tiddlywikiçš„å‘½ä»¤ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥ç”¨å®ƒä»¬ç”Ÿæˆ[[æˆ‘ä»¬è‡ªå·±çš„æ„å»ºæ–¹æ¡ˆ|è‡ªå®šä¹‰tiddlywikiæ„å»ºæ–¹æ¡ˆ]]ï¼Œå®ƒèƒ½æ˜¾è‘—æé«˜æˆ‘ä»¬å¯¹tiddlywikiçš„ä½¿ç”¨æ•ˆç‡ã€‚
